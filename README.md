# Selective Trading - Milk Products Order Management System

نظام إدارة طلبات منتجات الألبان لشركة Selective Trading

## 🚀 المميزات

### للعملاء:
- ✅ تسجيل دخول سهل برقم الهاتف فقط (بدون كلمة مرور)
- ✅ إنشاء طلبات جديدة من 5 منتجات ألبان
- ✅ تعديل الطلبات خلال مدة قابلة للتخصيص (1-24 ساعة)
- ✅ حفظ الطلبات المفضلة كقوالب (حتى 10 قوالب)
- ✅ استخدام القوالب لإنشاء طلبات سريعة
- ✅ إعادة آخر طلب بضغطة واحدة
- ✅ إشعارات داخل التطبيق
- ✅ عرض سجل الطلبات
- ✅ إضافة رسائل مع الطلب
- ✅ دعم اللغتين العربية والإنجليزية

### للأدمن:
- ✅ لوحة تحكم شاملة
- ✅ عرض إجمالي طلبات اليوم
- ✅ عرض تفاصيل كل طلب
- ✅ تعديل/حذف الطلبات
- ✅ تأكيد استلام الطلبات
- ✅ بحث وفلترة متقدمة
- ✅ تقارير وإحصائيات مع رسوم بيانية
- ✅ تصدير تقارير Excel
- ✅ طباعة الفواتير
- ✅ إدارة المنتجات (إضافة/تعديل/حذف)
- ✅ إدارة العملاء
- ✅ تنبيهات صوتية للطلبات الجديدة
- ✅ نظام توفر المنتجات
- ✅ سجل تعديلات الطلبات
- ✅ إعدادات النظام (مدة التعديل، الأرشفة التلقائية، وضع الصيانة)
- ✅ نسخ احتياطي للبيانات

## 📋 المتطلبات

- Node.js (v18 أو أحدث)
- MongoDB (v5 أو أحدث)
- npm أو yarn

## 🛠️ التثبيت

### 1. تثبيت MongoDB

#### Windows:
```bash
# قم بتحميل MongoDB من الموقع الرسمي
https://www.mongodb.com/try/download/community

# أو استخدم Chocolatey
choco install mongodb

# تشغيل MongoDB
mongod
```

### 2. تثبيت المشروع

```bash
# تثبيت الحزم
npm install

# إنشاء ملف البيئة
cp .env.local.example .env.local

# تعديل ملف .env.local وإضافة رقم هاتف الأدمن
ADMIN_PHONE=+966501234567
```

### 3. إضافة البيانات الأولية

```bash
# تشغيل سكريبت إضافة البيانات
npx ts-node scripts/seed.ts
```

### 4. تشغيل التطبيق

```bash
# وضع التطوير
npm run dev

# الوصول للتطبيق
http://localhost:3000
```

## 🎨 التصميم

التطبيق يستخدم نظام ألوان:
- 🔴 أحمر: `#DC2626` (Primary Red)
- ⚫ أسود: `#0F0F0F` (Primary Black)
- ⚪ أبيض: `#FFFFFF` (Primary White)

## 📱 الاستخدام

### تسجيل الدخول:
1. افتح التطبيق
2. أدخل رقم هاتفك
3. اضغط "دخول / تسجيل جديد"

### إنشاء طلب (عميل):
1. اضغط "طلب جديد"
2. اختر المنتجات والكميات (حد أدنى 2 قطعة)
3. أضف رسالة (اختياري)
4. اضغط "إنشاء طلب"

### حفظ قالب مفضل:
1. في صفحة "طلب جديد"، اختر المنتجات والكميات
2. اضغط "حفظ كقالب"
3. أدخل اسم القالب (حتى 50 حرف)
4. اضغط "حفظ"

### استخدام قالب مفضل:
1. اضغط على أيقونة القلب في شريط التنقل
2. اختر القالب المطلوب
3. اضغط "استخدام القالب"
4. سيتم تعبئة الطلب تلقائياً

### إدارة الطلبات (أدمن):
1. سجل دخول برقم الأدمن
2. ستظهر لوحة التحكم
3. يمكنك:
   - عرض جميع الطلبات
   - تأكيد الاستلام
   - تعديل أو حذف الطلبات
   - تصدير تقارير Excel
   - طباعة الفواتير

## 🔧 التقنيات المستخدمة

- **Frontend**: Next.js 15, React 19, TypeScript, Tailwind CSS
- **Backend**: Next.js API Routes, Node.js
- **Database**: MongoDB, Mongoose
- **Authentication**: JWT
- **Icons**: React Icons
- **Charts**: Recharts
- **Excel Export**: XLSX

## 📊 هيكل المشروع

```
selective-trading/
├── app/                    # صفحات Next.js
│   ├── api/               # API Routes
│   ├── dashboard/         # صفحات العميل
│   ├── admin/             # صفحات الأدمن
│   └── page.tsx           # الصفحة الرئيسية
├── components/            # مكونات React
├── contexts/              # Context API
├── lib/                   # مكتبات مساعدة
├── models/                # نماذج MongoDB
├── public/                # ملفات عامة
└── scripts/               # سكريبتات
```

## 🔐 الأمان

- JWT للمصادقة
- HttpOnly Cookies
- حماية API Routes
- التحقق من الصلاحيات
- تشفير البيانات الحساسة

## 📝 ملاحظات مهمة

1. **الحد الأدنى للطلب**: 2 قطعة
2. **مدة التعديل**: قابلة للتخصيص من 1-24 ساعة (افتراضي: 2 ساعة)
3. **الطلبات المفضلة**: حد أقصى 10 قوالب لكل عميل
4. **اسم القالب**: حد أقصى 50 حرف
5. **رقم الأدمن**: يجب تعيينه في `.env.local`
6. **MongoDB**: يجب أن يكون قيد التشغيل

## 🐛 حل المشاكل

### MongoDB لا يعمل:
```bash
# تأكد من تشغيل MongoDB
mongod

# أو استخدم MongoDB Compass
```

### خطأ في الاتصال:
```bash
# تحقق من MONGODB_URI في .env.local
MONGODB_URI=mongodb://localhost:27017/selective-trading
```

### خطأ في التثبيت:
```bash
# احذف node_modules وأعد التثبيت
rm -rf node_modules
npm install
```

## 📞 الدعم

للمساعدة أو الاستفسارات، يرجى التواصل مع فريق التطوير.

## 📄 الترخيص

جميع الحقوق محفوظة © 2024 Selective Trading